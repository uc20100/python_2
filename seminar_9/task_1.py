"""
–ú–æ–¥—É–ª—å —É–≥–∞–¥—ã–≤–∞–Ω–∏—è —á–∏—Å–ª–∞.
"""
# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ1
# üìå –°–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é-–∑–∞–º—ã–∫–∞–Ω–∏–µ, –∫–æ—Ç–æ—Ä–∞—è –∑–∞–ø—Ä–∞—à–∏–≤–∞–µ—Ç –¥–≤–∞ —Ü–µ–ª—ã—Ö
# —á–∏—Å–ª–∞:
#   ‚óã –æ—Ç 1 –¥–æ 100 –¥–ª—è –∑–∞–≥–∞–¥—ã–≤–∞–Ω–∏—è,
#   ‚óã –æ—Ç 1 –¥–æ 10 –¥–ª—è –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ø–æ–ø—ã—Ç–æ–∫
# üìå –§—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —á–µ—Ä–µ–∑ –∫–æ–Ω—Å–æ–ª—å –ø—Ä–æ—Å–∏—Ç
# —É–≥–∞–¥–∞—Ç—å –∑–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –∑–∞ —É–∫–∞–∑–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ–ø—ã—Ç–æ–∫.

from typing import Callable

__all__ = ['go_guess']


def go_guess(number: int, attempts: int) -> Callable[[], str]:
    """
    –§—É–Ω–∫—Ü–∏—è –∑–∞–º—ã–∫–∞–Ω–∏–µ, —É–≥–∞–¥—ã–≤–∞–Ω–∏–µ —á–∏—Å–ª–∞.

    :param number: –ó–∞–≥–∞–¥–∞–Ω–Ω–æ–µ —á–∏—Å–ª–æ,
    :param attempts: —á–∏—Å–ª–æ –ø–æ–ø—ã—Ç–æ–∫,
    :return: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é.
    """
    return_str = None
    if not (1 <= number <= 1_000):
        return_str = '–ó–Ω–∞—á–µ–Ω–∏–µ number –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ—Ç 1 –¥–æ 1_000.'
    else:
        if not (1 <= attempts <= 10):
            return_str = '–ó–Ω–∞—á–µ–Ω–∏–µ attempts –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö –æ—Ç 1 –¥–æ 10.'

    def guess() -> str:
        """
        –§—É–Ω–∫—Ü–∏—è —É–≥–∞–¥—ã–≤–∞–Ω–∏—è —á–∏—Å–ª–∞.

        :return: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
        """
        nonlocal return_str
        if not return_str:
            for i in range(attempts):
                number_ = input(f'–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ: ')
                if number_.isdigit():
                    if number == int(number_):
                        return_str = '–£—Ä–∞ –≤—ã —É–≥–∞–¥–∞–ª–∏!'
                        break
                    else:
                        if attempts - i - 1:
                            print(f'–ù–µ —É–≥–∞–¥–∞–ª–∏, –æ—Å—Ç–∞–ª–æ—Å—å {attempts - i - 1} –ø–æ–ø—ã—Ç–æ–∫.')
                        else:
                            return_str = '–ù–µ —É–≥–∞–¥–∞–ª–∏, –ø–æ–ø—ã—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã'
                else:
                    if attempts - i - 1:
                        print(f'–í–≤–µ–¥–∏—Ç–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ. –û—Å—Ç–∞–ª–æ—Å—å {attempts - i - 1} –ø–æ–ø—ã—Ç–æ–∫.')
                    else:
                        return_str = '–ù–µ —É–≥–∞–¥–∞–ª–∏, –ø–æ–ø—ã—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã'
        return return_str

    return guess


if __name__ == '__main__':
    func = go_guess(100, 3)
    print(func())
