"""
–ú–æ–¥—É–ª—å —É–≥–∞–¥—ã–≤–∞–Ω–∏—è —á–∏—Å–ª–∞ 2.
"""
# –ó–∞–¥–∞–Ω–∏–µ ‚Ññ2
# üìå –î–æ—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –∑–∞–¥–∞—á—É 1.
# üìå –ü—Ä–µ–≤—Ä–∞—Ç–∏—Ç–µ –≤–Ω–µ—à–Ω—é—é —Ñ—É–Ω–∫—Ü–∏—é –≤ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä.
# üìå –û–Ω –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Ö–æ–¥—è—Ç –ª–∏ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é-
# —É–≥–∞–¥–∞–π–∫—É —á–∏—Å–ª–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω—ã [1, 100] –∏ [1, 10].
# üìå –ï—Å–ª–∏ –Ω–µ –≤—Ö–æ–¥—è—Ç, –≤—ã–∑—ã–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é —Å–æ —Å–ª—É—á–∞–π–Ω—ã–º–∏ —á–∏—Å–ª–∞–º–∏
# –∏–∑ –¥–∏–∞–ø–∞–∑–æ–Ω–æ–≤.

from typing import Callable
import random

__all__ = ['guess']


def check(func: Callable):
    """
    –î–µ–∫–æ—Ä–∞—Ç–æ—Ä, —É–≥–∞–¥—ã–≤–∞–Ω–∏–µ —á–∏—Å–ª–∞.

    :param func: –§—É–Ω–∫—Ü–∏—è —É–≥–∞–¥—ã–≤–∞–Ω–∏—è —á–∏—Å–ª–∞,
    :return: –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é.
    """

    def check_setting(*args):
        nonlocal func
        num, att = args
        if not (1 <= num <= 1_000):
            num = random.randint(1, 1_000)
        if not (1 <= att <= 10):
            att = random.randint(1, 10)
        return func(num, att)

    return check_setting


@check
def guess(number: int, attempts: int) -> str:
    """
    –§—É–Ω–∫—Ü–∏—è —É–≥–∞–¥—ã–≤–∞–Ω–∏—è —á–∏—Å–ª–∞.

    :return: –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–æ–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
    """
    for i in range(attempts):
        number_ = input(f'–í–≤–µ–¥–∏—Ç–µ —á–∏—Å–ª–æ: ')
        if number_.isdigit():
            if number == int(number_):
                return '–£—Ä–∞ –≤—ã —É–≥–∞–¥–∞–ª–∏!'
            else:
                if attempts - i - 1:
                    print(f'–ù–µ —É–≥–∞–¥–∞–ª–∏, –æ—Å—Ç–∞–ª–æ—Å—å {attempts - i - 1} –ø–æ–ø—ã—Ç–æ–∫.')
                else:
                    return '–ù–µ —É–≥–∞–¥–∞–ª–∏, –ø–æ–ø—ã—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã'
        else:
            if attempts - i - 1:
                print(f'–í–≤–µ–¥–∏—Ç–µ –Ω–∞—Ç—É—Ä–∞–ª—å–Ω–æ–µ —á–∏—Å–ª–æ. –û—Å—Ç–∞–ª–æ—Å—å {attempts - i - 1} –ø–æ–ø—ã—Ç–æ–∫.')
            else:
                return '–ù–µ —É–≥–∞–¥–∞–ª–∏, –ø–æ–ø—ã—Ç–∫–∏ –∏—Å—á–µ—Ä–ø–∞–Ω—ã'


if __name__ == '__main__':
    print(guess(100, 3))
